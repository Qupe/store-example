(function(t){function e(e){for(var n,o,i=e[0],s=e[1],u=e[2],l=0,p=[];l<i.length;l++)o=i[l],a[o]&&p.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);f&&f(e);while(p.length)p.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var t,e=0;e<c.length;e++){for(var r=c[e],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(c.splice(e--,1),t=i(i.s=r[0]))}return t}var n={},a={app:0},c=[];function o(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-2d2294a0":"2c0b85ec"}[t]+".js"}function i(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(t){var e=[],r=a[t];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise(function(e,n){r=a[t]=[e,n]});e.push(r[2]=n);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.src=o(t),c=function(e){s.onerror=s.onload=null,clearTimeout(u);var r=a[t];if(0!==r){if(r){var n=e&&("load"===e.type?"missing":e.type),c=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+n+": "+c+")");o.type=n,o.request=c,r[1](o)}a[t]=void 0}};var u=setTimeout(function(){c({type:"timeout",target:s})},12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(e)},i.m=t,i.c=n,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/store-example/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var f=u;c.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1d0a":function(t,e,r){},"35ee":function(t,e,r){"use strict";var n=r("8757"),a=r.n(n);a.a},"561b":function(t,e,r){"use strict";var n=r("90e6"),a=r.n(n);a.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("transition",{attrs:{name:"slide-down"}},[t.notifierVisible?r("app-notifier"):t._e()],1),r("router-view")],1)},c=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),i=r("2f62"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.classList},[r("p",[t._v("\n    Курс доллара "+t._s(t._f("formatPrice")(t.exchangeRate.current))+"\n    "),"up"===t.getDifference?r("span",[t._v("↑")]):t._e(),"down"===t.getDifference?r("span",[t._v("↓")]):t._e()])])},u=[];function l(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"RU-ru",r=new Intl.NumberFormat(e,{currency:"RUB",style:"currency",minimumFractionDigits:2});return r.format(t)}var p="setStore",d="setExchangeRate",b="setNotifierVisibility",m="addCartItem",g="removeCartItem",O="setCartItemCount",v="setCartSummary";function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var j={name:"AppNotifier",filters:{formatPrice:f},props:{visible:{type:Boolean,default:!1}},computed:h({},Object(i["e"])(["exchangeRate"]),{},Object(i["c"])(["getDifference"]),{classList:function(){return{"app-notifier":!0,"app-notifier_red":"up"===this.getDifference,"app-notifier_green":"down"===this.getDifference}}}),mounted:function(){var t=this;setTimeout(function(){t.setNotifierVisibility(!1)},3e3)},methods:h({},Object(i["d"])([b]))},_=j,w=(r("5946"),r("2877")),P=Object(w["a"])(_,s,u,!1,null,null,null),D=P.exports;function C(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?C(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var N={components:{AppNotifier:D},computed:T({},Object(i["e"])(["notifierVisible"]))},x=N,k=(r("c796"),Object(w["a"])(x,a,c,!1,null,null,null)),E=k.exports,S=r("8c4f"),R=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"home"},[r("cart-drawer"),r("div",{staticClass:"catalog"},t._l(t.catalogData,function(t,e){return r("catalog-category",{key:e,attrs:{"category-data":t}})}),1)],1)},B=[],G="getGoods",I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"catalog-category"},[r("div",{staticClass:"catalog-category__name"},[t._v("\n    "+t._s(t.categoryData.G)+"\n  ")]),r("div",{staticClass:"catalog-category__products"},t._l(t.categoryData.B,function(t,e){return r("catalog-product",{key:e,attrs:{id:e,name:t.N,count:t.T,price:t.C}})}),1)])},M=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"catalog-product"},[n("div",{staticClass:"catalog-product__name"},[t._v("\n    "+t._s(t.name)+" "+t._s(t.count?"("+t.count+")":"")+"\n  ")]),n("div",{staticClass:"catalog-product__price"},[t.price?n("span",{class:t.classList},[t._v("\n      "+t._s(t._f("formatPrice")(t.price*t.exchangeRate.current))+"\n    ")]):n("span",[t._v("-")])]),n("div",{staticClass:"catalog-product__add"},[t.price?n("img",{staticClass:"catalog-product__add-icon",attrs:{src:r("daca"),alt:""},on:{click:function(e){return t.addCartItem({id:t.id,name:t.name,price:t.price})}}}):t._e()])])},V=[];r("c5f6");function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var q={name:"CatalogProduct",filters:{formatPrice:f},props:{id:{type:String,default:""},name:{type:String,default:"",required:!0},count:{type:Number,default:0},price:{type:Number,default:0,required:!0}},computed:A({},Object(i["e"])(["exchangeRate"]),{},Object(i["c"])(["getDifference"]),{classList:function(){return{"catalog-product__price-highlight":!0,"catalog-product__price-highlight_red":"up"===this.getDifference,"catalog-product__price-highlight_green":"down"===this.getDifference}}}),methods:A({},Object(i["d"])("cart",[m]))},J=q,F=(r("561b"),Object(w["a"])(J,$,V,!1,null,null,null)),H=F.exports,U={name:"CatalogCategory",components:{CatalogProduct:H},props:{categoryData:{type:Object,default:function(){}}}},W=U,X=(r("af04"),Object(w["a"])(W,I,M,!1,null,null,null)),z=X.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cart"},[r("transition",{attrs:{name:"slide-right"}},[t.visible?r("div",{staticClass:"cart__drawer"},[r("div",{staticClass:"cart__drawer-title"},[t._v("\n        Корзина\n      ")]),Object.keys(t.cartData).length?r("div",{staticClass:"cart__drawer-list"},t._l(t.cartData,function(t,e){return r("cart-drawer-item",{key:e,attrs:{"product-data":t}})}),1):r("div",{staticClass:"cart__drawer-empty"},[t._v("\n        Корзина пуста\n      ")]),Object.keys(t.cartData).length?r("div",{staticClass:"cart__drawer-summary"},[t._v("\n        Общая стоимость: "+t._s(t._f("formatPrice")(t.summary*t.exchangeRate.current))+"\n      ")]):t._e()]):t._e()]),r("div",{staticClass:"cart__mini",on:{click:function(e){t.visible=!t.visible}}},[Object.keys(t.cartData).length?r("div",{staticClass:"cart__mini-count"},[t._v("\n      "+t._s(Object.keys(t.cartData).length)+"\n    ")]):t._e(),r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"#ffffff","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}},[r("circle",{attrs:{cx:"9",cy:"21",r:"1"}}),r("circle",{attrs:{cx:"20",cy:"21",r:"1"}}),r("path",{attrs:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"}})])])],1)},Q=[],Y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart-item"},[n("div",{staticClass:"cart-item__name"},[t._v("\n    "+t._s(t.productData.name)+"\n  ")]),n("div",{staticClass:"cart-item__price"},[t._v("\n    "+t._s(t._f("formatPrice")(t.productData.price*t.exchangeRate.current*t.productData.count))+"\n  ")]),n("label",{staticClass:"cart-item__count"},[n("input",{staticClass:"cart-item__count-input",attrs:{type:"number",min:"1"},domProps:{value:t.productData.count},on:{keypress:t.isNumber,input:function(e){return t.setCartItemCount({value:e.target.value,id:t.productData.id})}}})]),n("div",{staticClass:"cart-item__delete"},[n("img",{staticClass:"cart-item__delete-icon",attrs:{src:r("af22"),alt:""},on:{click:function(e){return t.removeCartItem(t.productData.id)}}})])])},Z=[];function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var rt={name:"CartDrawerItem",filters:{formatPrice:f},props:{productData:{type:Object,default:function(){}}},computed:et({},Object(i["e"])(["exchangeRate"]),{},Object(i["c"])(["getDifference"])),methods:et({},Object(i["d"])("cart",[g,O]),{isNumber:function(t){/\d/.test(t.key)||t.preventDefault()}})},nt=rt,at=(r("7909"),Object(w["a"])(nt,Y,Z,!1,null,null,null)),ct=at.exports;function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var st={name:"CartDrawer",filters:{formatPrice:f},components:{CartDrawerItem:ct},data:function(){return{visible:!1}},computed:it({},Object(i["e"])("cart",{cartData:"data",summary:"summary"}),{},Object(i["e"])(["exchangeRate"]),{},Object(i["c"])(["getDifference"]))},ut=st,lt=(r("35ee"),Object(w["a"])(ut,K,Q,!1,null,null,null)),ft=lt.exports;function pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function dt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pt(r,!0).forEach(function(e){Object(o["a"])(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pt(r).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var bt={name:"Home",components:{CartDrawer:ft,CatalogCategory:z},computed:dt({},Object(i["e"])("catalog",{catalogData:"data"})),created:function(){this[G]()},mounted:function(){var t=this;setInterval(function(){t[G]()},15e3)},methods:dt({},Object(i["b"])("catalog",[G]))},mt=bt,gt=(r("cccb"),Object(w["a"])(mt,R,B,!1,null,null,null)),Ot=gt.exports;n["a"].use(S["a"]);var vt,yt,ht=new S["a"]({mode:"history",base:"/store-example/",routes:[{path:"/",name:"home",component:Ot}]}),jt={namespaced:!0,state:{data:{1:{G:"Книги",B:{1:{N:"Алгоритмы. Построение и анализ. Т. Кормен, Ч. Лейзерсон, Р. Ривест, К. Штайн.",T:1},2:{N:"Совершенный код. Стив Макконнелл.",T:1},3:{N:"JavaScript. Подробное руководство. Дэвид Флэнаган.",T:1}}},2:{G:"Еда",C:2,B:{7:{N:"Овсяные пирожные с шоколадной прослойкой",T:3},8:{N:"Суп с пекинской капустой",T:3},85:{N:"Вишня в коньяке",T:3},86:{N:"Постный фаршированный перец",T:3},109:{N:"Салат Подсолнух",T:null},110:{N:"Форель «Эрланген»",T:null},111:{N:"Салат с морепродуктами",T:3},112:{N:"Тёртый пирог",T:3},115:{N:"Свинина, маринованная в красном вине, с кориандром",T:null},116:{N:"Салат с черносливом и ветчиной",T:null},125:{N:"Болгарский перец и цуккини на гриле",T:3},126:{N:"Салат «Букет нарциссов»",T:3},127:{N:"Салат из морепродуктов, с огурцами, рукколой и оливками",T:3}}},5:{G:"Спорт",C:2,B:{184:{N:"Беговая дорожка",T:1},185:{N:"Гантели съемные",T:1},186:{N:"Ружьё охотничье",T:1},187:{N:"Велотренажер",T:1}}},8:{G:"Сантехника",C:3,B:{4:{N:"Акриловая ванна Alpen Mars ",T:1},5:{N:"Смеситель Sturm Classica",T:1},6:{N:"Тумба с раковиной Tiffany World ",T:1}}},10:{G:"Запчасти для машин",C:3,B:{191:{N:"Амортизатор задний CX-5 ",T:3},192:{N:"Пружина амортизатора ",T:3},193:{N:"Корпус воздушного фильтра ",T:3},194:{N:"Ремень приводной",T:3},195:{N:"Диффузор радиатора",T:1},196:{N:"Фильтр АКПП",T:3}}},15:{G:"Сувениры",C:2,B:{11:{N:"Набор для рисования Пастель",T:3},12:{N:"Брелок-рулетка",T:3},63:{N:"Брелок-открывалка",T:3},64:{N:"Ручка-стилус шариковая",T:3},146:{N:"Браслет",T:3},147:{N:"Чехол для очков",T:3},148:{N:"Сумка для выставок",T:3}}}}},mutations:Object(o["a"])({},p,function(t,e){e.forEach(function(e){n["a"].set(t.data[e.G].B[e.T],"T",e.P),n["a"].set(t.data[e.G].B[e.T],"C",e.C)})}),actions:Object(o["a"])({},G,function(t){var e=t.commit;return r.e("chunk-2d2294a0").then(r.t.bind(null,"dd8b",3)).then(function(t){e(d,null,{root:!0}),e(b,!0,{root:!0}),e(p,t.Value.Goods)})})},_t={namespaced:!0,state:{data:{},summary:null},mutations:(vt={},Object(o["a"])(vt,m,function(t,e){var r=Object.assign({},e);t.data[e.id]?(t.data[e.id].count+=1,r.count=t.data[e.id].count):r.count=1,n["a"].set(t.data,[e.id],r),this.commit("cart/".concat(v))}),Object(o["a"])(vt,g,function(t,e){n["a"].delete(t.data,e),this.commit("cart/".concat(v))}),Object(o["a"])(vt,O,function(t,e){n["a"].set(t.data[e.id],"count",parseInt(e.value,10)),this.commit("cart/".concat(v))}),Object(o["a"])(vt,v,function(t){var e=0;Object.keys(t.data).forEach(function(r){e+=t.data[r].price*t.data[r].count}),n["a"].set(t,"summary",e)}),vt)};n["a"].use(i["a"]);var wt=new i["a"].Store({state:{exchangeRate:{current:0,previous:0},notifierVisible:!1},getters:{getDifference:function(t){var e="";return e=0===t.exchangeRate.previous?"none":t.exchangeRate.current>t.exchangeRate.previous?"up":"down",e}},mutations:(yt={},Object(o["a"])(yt,d,function(t){n["a"].set(t.exchangeRate,"previous",t.exchangeRate.current),n["a"].set(t.exchangeRate,"current",l(20,80))}),Object(o["a"])(yt,b,function(t,e){n["a"].set(t,"notifierVisible",e)}),yt),modules:{catalog:jt,cart:_t}});n["a"].config.productionTip=!1,new n["a"]({router:ht,store:wt,render:function(t){return t(E)}}).$mount("#app")},5946:function(t,e,r){"use strict";var n=r("c3bd"),a=r.n(n);a.a},7909:function(t,e,r){"use strict";var n=r("d24e"),a=r.n(n);a.a},8757:function(t,e,r){},"90e6":function(t,e,r){},af04:function(t,e,r){"use strict";var n=r("1d0a"),a=r.n(n);a.a},af22:function(t,e,r){t.exports=r.p+"img/trash.2c47055a.svg"},c3bd:function(t,e,r){},c796:function(t,e,r){"use strict";var n=r("dd6b"),a=r.n(n);a.a},cccb:function(t,e,r){"use strict";var n=r("d563"),a=r.n(n);a.a},d24e:function(t,e,r){},d563:function(t,e,r){},daca:function(t,e,r){t.exports=r.p+"img/cart.1b7d8e62.svg"},dd6b:function(t,e,r){}});
//# sourceMappingURL=app.dd3d960a.js.map